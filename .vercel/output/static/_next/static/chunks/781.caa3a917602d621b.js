"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[781],{781:function(e,r,t){t.r(r),t.d(r,{default:function(){return d}});var a=t(7437),l=t(2265),o=t(1942),n=t(3051),i=e=>{var r,t,l,i;let{value:s,isSelected:d,isDisabled:c=!1,onClick:u,priceDetails:v,inventory:p=null,greatDeal:f,mostLoved:x,productHandle:g}=e,h=null!==p&&0===p,b=null==v?void 0:null===(r=v.originalPrice)||void 0===r?void 0:r.value,w=null==v?void 0:null===(t=v.offerPrice)||void 0===t?void 0:t.value,y=(null==v?void 0:null===(l=v.originalPrice)||void 0===l?void 0:l.prefix)||"",m=(null==v?void 0:null===(i=v.offerPrice)||void 0===i?void 0:i.prefix)||"",j=w?Math.round(parseFloat(w)).toString():void 0,_="";if(b&&w&&parseFloat(b)>parseFloat(w)){let e=(parseFloat(b)-parseFloat(w))/parseFloat(b)*100;_=e>0?"".concat(Math.round(e),"% Off"):""}let k=s.toLowerCase().includes("results pack")||s.toLowerCase().includes("result pack"),C=s.toLowerCase().includes("results pack")||s.toLowerCase().includes("starter pack")||s.toLowerCase().includes("value pack")||s.toLowerCase().includes("progress pack")||s.toLowerCase().includes("result pack");return(0,a.jsx)("div",{className:"flex flex-col gap-1",children:(0,a.jsxs)("button",{onClick:u,disabled:c||h,className:"\n                flex flex-col h-full relative bg-none text-sm justify-center\n                snap-start flex-shrink-0 border rounded-lg shadow-lg hover:shadow-xl transition-shadow cursor-pointer\n                ".concat(d?"cureveda-pro-vegan-plant-protein"===g?"border-1 border-[#E7A023] bg-[#FBE9CA] text-black hover:bg-[#f8e2b8]":f&&!C?"border-1 border-[#546327] bg-white text-black hover:bg-gray-100":k?"border-1 border-[#546327] bg-white text-black hover:bg-gray-100":"border-1 bg-white border-gray-900 text-black hover:bg-gray-100":h?"bg-gray-100 text-gray-400 cursor-not-allowed":c?"border-gray-200 bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-black hover:bg-gray-100","\n            "),children:[h&&(0,a.jsx)("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs px-2 py-0.5 rounded-full",children:"Sold Out"}),(0,a.jsx)("span",{className:"pt-2 w-full text-center text-xs whitespace-pre-line break-words",children:"Default Title"===s?"":s.split("|").join("\n")}),(0,a.jsxs)("div",{className:"pb-2 flex flex-col justify-center items-center w-full",children:[b||w?(0,a.jsxs)("div",{className:"mt-1 flex flex-col-reverse justify-center items-center",children:[w?(0,a.jsxs)("span",{className:"text-lg font-semibold ".concat(h?"text-gray-400":"text-gray-800"),children:[m,j]}):(0,a.jsxs)("span",{className:"text-lg ".concat(h?"text-gray-300":"text-gray-800"),children:[y,b]}),b&&w&&parseFloat(b)>parseFloat(w)&&(0,a.jsxs)("span",{className:"text-xs line-through ".concat("text-gray-400"),children:[y,b]})]}):null,_&&(0,a.jsx)("p",{className:" text-xs mt-1 ".concat(h?"text-red-300":"text-red-600"),children:_})]}),(0,a.jsxs)(a.Fragment,{children:[f&&!C&&(0,a.jsxs)("div",{className:"flex gap-1 items-center justify-center w-full bg-[#546327] text-white text-xs font-normal px-2 py-[2px] rounded-b-lg shadow-md ",children:[(0,a.jsx)(n.xA_,{size:14,color:"#EC8A1A"})," Best Deal"]}),k&&(0,a.jsxs)("div",{className:"flex gap-1 items-center justify-center w-full bg-[#546327] text-white text-xs font-normal px-2 py-[2px] rounded-b-lg shadow-md",children:[(0,a.jsx)(o.QJe,{color:"#EC8A1A"})," Recommended"]})]})]})})},s=e=>{let{label:r,value:t,isSelected:l,isDisabled:o=!1,onClick:n,inventory:i=null,productHandle:s}=e,d=null!==i&&0===i;return(0,a.jsx)(a.Fragment,{children:"Default Title"===t?"":(0,a.jsxs)("button",{onClick:n,disabled:o||d,className:"\n            px-4 py-2 m-1 rounded-lg shadow-lg hover:shadow-xl transition-shadow border relative text-sm\n            ".concat(l?"cureveda-pro-vegan-plant-protein"===s?"border-1 border-[#E7A023] bg-[#FBE9CA] text-black hover:bg-[#f8e2b8]":"border-1 bg-white border-gray-900 text-black hover:bg-gray-100":d?"bg-gray-100 text-gray-400 cursor-not-allowed":o?"border-gray-200 bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-black hover:bg-gray-100","\n          "),children:[d&&(0,a.jsx)("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs px-2 py-0.5 rounded-full",children:"Sold Out"}),t]})})},d=l.memo(e=>{let{value:r,style:t,collections:o}=e,[n,d]=(0,l.useState)({}),[c,u]=(0,l.useState)(null),[v,p]=(0,l.useState)(null),f=l.useMemo(()=>(null==o?void 0:o.variants)&&0!==o.variants.length?[...o.variants].sort((e,r)=>{if("cureveda-pro-vegan-plant-protein"===e.product_handle){var t,a,l,o;if((null===(t=e.variant_options.option1)||void 0===t?void 0:t.toLowerCase())==="strawberry"&&(null===(a=r.variant_options.option1)||void 0===a?void 0:a.toLowerCase())==="strawberry")return(e.price.offerPrice?parseFloat(e.price.offerPrice.value):0)-(r.price.offerPrice?parseFloat(r.price.offerPrice.value):0);if((null===(l=e.variant_options.option1)||void 0===l?void 0:l.toLowerCase())==="strawberry")return -1;if((null===(o=r.variant_options.option1)||void 0===o?void 0:o.toLowerCase())==="strawberry")return 1}return e.variant_options.option2&&r.variant_options.option2,(e.price.offerPrice?parseFloat(e.price.offerPrice.value):0)-(r.price.offerPrice?parseFloat(r.price.offerPrice.value):0)}):[],[null==o?void 0:o.variants]);if((0,l.useEffect)(()=>{(()=>{if(0===f.length)return;let e=new URLSearchParams(window.location.search).get("variant"),r=f.find(e=>void 0===e.inventory||e.inventory>0),t=e?f.find(r=>r.variant_id===e):null,a=t&&(void 0===t.inventory||t.inventory>0)?t:r;if(a){let e={};Object.entries(a.variant_options).filter(e=>{let[r,t]=e;return r.startsWith("option")&&t}).forEach(r=>{let[t,a]=r;e[t]=a}),d(e),u(a.variant_id||null),p(a.product_handle||null),x(a.variant_id,a.product_handle)}})()},[f]),0===f.length)return null;let x=(e,r)=>{if(e&&r){let t="/products/".concat(r),a=e?"".concat(t,"?variant=").concat(e):t;window.history.pushState({},"",a),window.dispatchEvent(new CustomEvent("variantChanged",{detail:{variantId:e}}))}},g=(e,r)=>{let t={...n,[e]:r};d(t);let a=f.find(e=>Object.entries(t).every(r=>{let[t,a]=r;return e.variant_options[t]===a}));a&&(u(a.variant_id||null),p(a.product_handle||null),x(a.variant_id,a.product_handle))};return(0,a.jsx)("div",{style:t,children:(()=>{let e=f.reduce((e,r)=>(Object.entries(r.variant_options).forEach(r=>{let[t,a]=r;t.startsWith("option")&&a&&(e[t]||(e[t]=new Set),e[t].add(a))}),e),{}),t=f.reduce((e,r)=>{var t,a;let l=parseFloat((null===(t=r.price.originalPrice)||void 0===t?void 0:t.value)||"0")-parseFloat((null===(a=r.price.offerPrice)||void 0===a?void 0:a.value)||"0");return!e.variant||l>e.discount?{variant:r,discount:l}:e},{variant:null,discount:0});return f.filter(e=>{var r,a;return parseFloat((null===(r=e.price.originalPrice)||void 0===r?void 0:r.value)||"0")-parseFloat((null===(a=e.price.offerPrice)||void 0===a?void 0:a.value)||"0")===t.discount}).length,Object.entries(e).sort().map((e,l)=>{var o;let[d,c]=e,u=r.options[d];if(!(null==u?void 0:u.enabled))return null;let v=Array.from(c);return"option1"===d&&(null===(o=f[0])||void 0===o?void 0:o.product_handle)==="cureveda-pro-vegan-plant-protein"?v.sort((e,r)=>"strawberry"===e.toLowerCase()?-1:"strawberry"===r.toLowerCase()?1:0):"option2"===d&&v.sort((e,r)=>{let t=f.find(r=>r.variant_options[d]===e),a=f.find(e=>e.variant_options[d]===r);return((null==t?void 0:t.price.offerPrice)?parseFloat(t.price.offerPrice.value):0)-((null==a?void 0:a.price.offerPrice)?parseFloat(a.price.offerPrice.value):0)}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("h3",{className:"text-sm font-medium mb-2 flex items-center justify-start gap-1",children:[u.label," ",n[d]&&(0,a.jsx)("span",{className:"font-bold",children:n[d]})]}),(0,a.jsx)("div",{className:"\n                            flex justify-start flex-wrap gap-2 \n                            ".concat("card"===u.displayStyle?"grid grid-cols-3":"flex flex-wrap","\n                        "),children:v.map((e,r)=>{var l,o;let c=f.find(r=>Object.entries({...n,[d]:e}).every(e=>{let[t,a]=e;return r.variant_options[t]===a})),v="card"===u.displayStyle?i:s,p=0===r,x=!!t.variant&&!p&&!!t.variant&&parseFloat((null==c?void 0:null===(l=c.price.originalPrice)||void 0===l?void 0:l.value)||"0")-parseFloat((null==c?void 0:null===(o=c.price.offerPrice)||void 0===o?void 0:o.value)||"0")===t.discount;return(0,a.jsx)(v,{label:e,value:e,isSelected:n[d]===e,onClick:()=>g(d,e),priceDetails:null==c?void 0:c.price,inventory:(null==c?void 0:c.inventory)!==void 0?c.inventory:null,greatDeal:x,mostLoved:p,productHandle:null==c?void 0:c.product_handle},e)})})]},d)})})()})})}}]);